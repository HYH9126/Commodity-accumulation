<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="price.css" />
	</head>
	<body onselectstart="return false;">
		<div class="wrap">
			<div class="box">
				<ul class="list">
					<li>
						<i></i>
						<em>0</em>
						<i></i>
						<div>
							单价：<span>12.5元 </span> 小计：<strong>0元</strong>
						</div>
					</li>
					<li>
						<i></i>
						<em>0</em>
						<i></i>
						<div>
							单价：<span>10.5元 </span> 小计：<strong>0元</strong>
						</div>
					</li>
					<li>
						<i></i>
						<em>0</em>
						<i></i>
						<div>
							单价：<span>8.5元 </span> 小计：<strong>0元</strong>
						</div>
					</li>
					<li>
						<i></i>
						<em>0</em>
						<i></i>
						<div>
							单价：<span>8元 </span> 小计：<strong>0元</strong>
						</div>
					</li>
					<li>
						<i></i>
						<em>0</em>
						<i></i>
						<div>
							单价：<span>14.5元 </span> 小计：<strong>0元</strong>
						</div>
					</li>
				</ul>
				<div class="info">
					<span>商品公合计：<em id="totalnum">0</em>件</span>
					<span>共花费了：<em id="totalpay">0</em>元</span>
					<br />
					<br />
					<span>其中最贵的商品单价是：<em id="max">0</em>元</span>
				</div>
			</div>
		</div>
		<script>
			var list = document.getElementsByClassName('list')[0];
			var decAdd = document.getElementsByTagName('i');
			var num = list.getElementsByTagName('em');
			var unitPrice = list.getElementsByTagName('span');
			var subtotal = document.getElementsByTagName('strong');
			var max = document.getElementById('max');
			var totalnum = document.getElementById('totalnum');
			var totalpay = document.getElementById('totalpay');
			var x = 0;
			for(var i=0;i<5;i++){
				fn(i);
			}
			function fn(n){
				var m = 0;
				decAdd[2*n].onclick = function(){
					m--;
					m<0?m=0:null,num[n].innerHTML = m;
					subtotal[n].innerHTML = m*parseFloat(unitPrice[n].innerHTML)+'元';
					totalnum.innerHTML = Number(num[0].innerHTML)+Number(num[1].innerHTML)+Number(num[2].innerHTML)+Number(num[3].innerHTML)+Number(num[4].innerHTML);
					totalpay.innerHTML = parseFloat(subtotal[0].innerHTML)+parseFloat(subtotal[1].innerHTML)+parseFloat(subtotal[2].innerHTML)+parseFloat(subtotal[3].innerHTML)+parseFloat(subtotal[4].innerHTML);
					fn2();
				}
				decAdd[2*n+1].onclick = function(){
					m++;
					num[n].innerHTML = m;
					subtotal[n].innerHTML = m*parseFloat(unitPrice[n].innerHTML)+'元';
					totalnum.innerHTML = Number(num[0].innerHTML)+Number(num[1].innerHTML)+Number(num[2].innerHTML)+Number(num[3].innerHTML)+Number(num[4].innerHTML);
					totalpay.innerHTML = parseFloat(subtotal[0].innerHTML)+parseFloat(subtotal[1].innerHTML)+parseFloat(subtotal[2].innerHTML)+parseFloat(subtotal[3].innerHTML)+parseFloat(subtotal[4].innerHTML);
					fn2();
				}
			}
			function fn2(){
				if(num[4].innerHTML>0){
					max.innerHTML = 14.5;
				}else if(num[0].innerHTML>0){
					max.innerHTML = 12.5;
				}
				else if(num[1].innerHTML>0){
					max.innerHTML = 10.5;
				}else if(num[2].innerHTML>0){
					max.innerHTML = 8.5;
				}else if(num[3].innerHTML>0){
					max.innerHTML = 8;
				}else{
					max.innerHTML = 0;
				}
			}
		</script>
	</body>

</html>